webpackJsonp([1],{CHAo:function(e,t,o){e.exports=o.p+"static/img/entry-logo-reporter.ec1263e.png"},"Dv+x":function(e,t,o){e.exports=o.p+"static/img/entry-logo-finacial.fb0b1f8.png"},FaMT:function(e,t){},"G5+K":function(e,t){},Jwui:function(e,t){},Kndh:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjlDQTQwNjlENjMwRDExRThCNDhDQzg5MDcwRTA1MUY2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjlDQTQwNjlFNjMwRDExRThCNDhDQzg5MDcwRTA1MUY2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OUNBNDA2OUI2MzBEMTFFOEI0OENDODkwNzBFMDUxRjYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OUNBNDA2OUM2MzBEMTFFOEI0OENDODkwNzBFMDUxRjYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6gPbhtAAAE5ElEQVR42uxcXWwUVRQ+218qPyK1apQHqBGiSESipiaKGAOERkLxJyQlvlVejL4BvpAQfLLhxRArKVUfmmoigUoJEOAB5CchJoQYSxqxkBIjGktCVaRpaTt8J3M2u5mOMHPnzM7e2T3Jl8nunZl777fnnnvOufduxnEcSonUAgeBF4E2oNfnnhXAMuAwcCXISyssIiADbAC2A4/7lNcAK4F5wFKf8plAD/AZ0B600iqLCJoFfCuawmTtzNOIr4FbwHpgEbDPozFfijLMle8fSSNB48BJYDlwUdrOGjEfYDuxGxgGGoCbwIy88jvAHmBS3jWRRoLGgHVCwB/Ag3kaMU+uB4WQ2UJItrxBSAwtNtkg/jG/AH4AmoBRYMqjEV5CshozaVqpTQSxkd0EPAWsliFX7RkJkQmxmSASW5Iv3wCDwDGZxWJRW5vE8fywbTKchvOGl6rYpkEZuWZtTxdwTmzS7TJBOZuTlVaxSWvEJpU0Qf/l2ZzjYnPuaBtlm23QhI/NcTy2qaQ1qMrA5mQ819T7QWFtTtZmVZaaH3Q/m1Op5SfZ6gc5AX/4yH6SbRoUVNT8pLQSNKnlJ9lKkBPw87gn2rfWBtXKjFMpnZsQLRi7zxDKBPw8aTrdVyVExjPAy3LlIcA5Zk561Uln/hXP+VdJcYx63sHfLSY3DWvyOXjwV8BVDV5teAdolsZWB5zWOX88Qm4G8Zpco8op4PVi0aC1wAdiKMPWdzvOMCJpgji5voPcPLK1EhdBW8ldv5pFlos2QWxsefnlrbQ4VJoEPQ18BzybJo9TiyAm5RCwIG0uuYYnvZDcBbvUkaNB0GxJKTSmNKaLTNAuiZSpTNB04ZlqM6VcTAni5FM7lYCYEvQR8GSZIH95TGIrKhPkL+9RiB1apUZQtRBEZYL8panAoUQmaYLChhprYmr078Bpym3N5QmAE1oPU8J587AEvaJcP+9M/QT4CrjhKWM79y7l8stWELRUse6/gI3kpj//r/xz22yQ1i4uTsy/fw9yrDXSWvbge6CvFIJVU+kxeMYpFYJ4peKiwXM1SUz7SRDEa10jBs9NJaFFSRBUbWjs55DeXujxYiboAeB5g+f4mTqlNvxd7EZ6k8EzrYr1/xkXQVpebQuFW3F9k9zDdBrCfRiMi6ARpUbyNpe9AUMXvqeLImzE9OnDpbgI+llRzR8l9+woL1PX+5TXS9lhuVdLuA+X44rFzgKvKTaWZ6ZPyU3h8jmwq/J9o9TzRAz2j/vwW9Cbw+4PelU6kniexlAcIf5MXEPsPNBP9kq/9CE2R5G94G6LCeqm6YfyVIcYC69q/ET2Je45v/RcGB/I1FHkCjos1J6OsOSYahBJLHWB7Nm0wLPjC+Sepy9IsMrO1haLtGeLCTlRY7EDQKcF5HRKW40k6j5pdvT4qFGxboHhKZ2Xqv5JiqCs13uiCO0R2503gKEoL6lQakhL1IYoy5BWm7TyQRwANheJl90vbVEJrDUTZgMy3nsTJKdX2jCg9ULtjOJ1crfmbSN3WblQwnV9LHVf1w1vYaRjwnKgz4lf+qSuWPpRiONQfNrnQ2AV6W1cn5CZk489HI2z8YU8L/YS8DaFOy/mzST8AhwB9gM/FqLRmQT+JjD/xOESyp04fIhyyzqjEhqwPeFTh5fE6ePrWCEbe1eAAQDR8PUVcI11KQAAAABJRU5ErkJggg=="},OORJ:function(e,t,o){e.exports=o.p+"static/img/entry-logo-jixiao.397c595.png"},SpRI:function(e,t,o){e.exports=o.p+"static/img/entry-logo-pmis.dee232d.png"},UVIz:function(e,t){},aFqK:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("7+uW"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var s=o("VU/8")({name:"App"},n,!1,function(e){o("Jwui")},null,null).exports,r=o("/ocq"),a=o("Dd8w"),c=o.n(a),l=o("Zrlr"),u=o.n(l),m=o("wxAW"),d=o.n(m),h=o("lbHh"),p=o.n(h),g="userno",f="username",v="name",w="deptId",b="roleid",A="role",k="email",S=new(function(){function e(){u()(this,e),this.cookieStorage=p.a,this.domain="chiq-cloud.com"}return d()(e,[{key:"setUserInfoOnRootDomain",value:function(){this._setUserInfoOn(this.domain)}},{key:"_setUserInfoOn",value:function(e){this.cookieStorage.set(g,this.userNo,{domain:e}),this.cookieStorage.set(f,this.userName,{domain:e}),this.cookieStorage.set(v,this.name,{domain:e}),this.cookieStorage.set(w,this.deptId,{domain:e}),this.cookieStorage.set(b,this.roleid,{domain:e}),this.cookieStorage.set(k,this.email,{domain:e})}},{key:"clearUserInfo",value:function(){this.cookieStorage.remove(g),this.cookieStorage.remove(v),this.cookieStorage.remove(w),this.cookieStorage.remove(b),this.cookieStorage.remove(A),this.cookieStorage.remove(k),this._clearUserInfoOn(this.domain)}},{key:"_clearUserInfoOn",value:function(e){this.cookieStorage.remove(g,{domain:e}),this.cookieStorage.remove(v,{domain:e}),this.cookieStorage.remove(w,{domain:e}),this.cookieStorage.remove(b,{domain:e}),this.cookieStorage.remove(k,{domain:e})}},{key:"userNo",get:function(){return this.cookieStorage.get(g)},set:function(e){this.cookieStorage.set(g,e)}},{key:"userName",get:function(){return this.cookieStorage.get(f)}},{key:"name",get:function(){return this.cookieStorage.get(v)||""}},{key:"deptId",get:function(){return this.cookieStorage.get(w)||0}},{key:"roleid",get:function(){return this.cookieStorage.get(b)||""}},{key:"role",set:function(e){this.cookieStorage.set(A,e,{domain:this.domain})},get:function(){return this.cookieStorage.get(A)}},{key:"email",get:function(){return this.cookieStorage.get(k)||""}}]),e}()),y={name:"",data:function(){return{form:{username:S.userName,password:"",remember:!0},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},loading:!1,bodyHeight:"auto",beShow:!1}},mounted:function(){var e=this;this.bodyHeight=window.innerHeight+"px",window.addEventListener("resize",function(){e.bodyHeight=window.innerHeight+"px"})},methods:{onSubmit:function(){var e=this;this.$refs.form.validate(function(t,o){t&&(e.loading=!0,e.$http.formdata("/login",c()({action:"login"},e.form)).then(function(t){S.userNo?(S.setUserInfoOnRootDomain(),e.$message({message:"登录成功！",type:"success"}),e.$router.push({path:"/entries"})):e.$message({showClose:!0,message:"登录失败，请检查用户名或密码是否正确",type:"error"}),e.loading=!1}).catch(function(e){this.loading=!1}))})},inputBlur:function(e,t){"user"===e?this.formName.userError=""===t?"用户名不能为空":"":"password"===e&&(this.formName.passwordError=""===t?"密码不能为空":"")}}},C={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"dialog",style:{height:e.bodyHeight}},[e._m(0),e._v(" "),o("div",{staticClass:"loginPage"},[o("el-form",{ref:"form",staticClass:"loginform",attrs:{model:e.form,rules:e.rules},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[o("el-form-item",{attrs:{prop:"username"}},[o("el-input",{attrs:{type:"text"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}},[o("template",{slot:"prepend"},[e._v("账号")])],2)],1),e._v(" "),o("el-form-item",{attrs:{prop:"password"}},[o("el-input",{attrs:{type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}},[o("template",{slot:"prepend"},[e._v("密码")])],2)],1),e._v(" "),o("el-row",[o("el-col",{staticStyle:{"text-align":"left"},attrs:{span:12}},[o("el-checkbox",{staticClass:"isAuto",model:{value:e.form.remember,callback:function(t){e.$set(e.form,"remember",t)},expression:"form.remember"}},[e._v("下次自动登录")])],1),e._v(" "),o("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[o("el-button",{staticClass:"rememberPassword",attrs:{type:"text"}},[e._v("忘记密码")])],1)],1),e._v(" "),o("div",{staticStyle:{"margin-top":"20px"}},[o("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary","native-type":"submit",loading:e.loading}},[e._v("登录")])],1)],1),e._v(" "),e._m(1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"loginTitle"},[t("h1",{staticClass:"chineseTitle"},[this._v("系统登录")]),this._v(" "),t("h1",{staticClass:"englishTitle"},[this._v("LOGIN")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"system"},[t("div",{staticClass:"bigfont",staticStyle:{"margin-top":"44px"}},[this._v("PROJECT")]),this._v(" "),t("div",{staticClass:"bigfont"},[this._v("MANAGEMENT")]),this._v(" "),t("div",{staticClass:"smallfont",staticStyle:{"margin-top":"30px"}},[this._v("软件与服务中心")]),this._v(" "),t("div",{staticClass:"smallfont"},[this._v("项目信息管理系统")])])}]};var E=o("VU/8")(y,C,!1,function(e){o("wmdb")},"data-v-0d01ee15",null).exports,R=[{name:"项目管理信息系统",desc:"PMIS",icon:o("SpRI"),background:"background-color-pmis",href:"http://pmis.changhong.com:8080/pmis/"},{name:"报工系统",desc:"TIMESHEET",icon:o("CHAo"),background:"background-color-reporter",href:"http://book.chiq-cloud.com/reporter"},{name:"数据统计",desc:"DATA STATISTICS",icon:o("Kndh"),background:"background-color-statistics",href:"/statistics"},{name:"绩效考核",desc:"PERFORMANCE EXAMIN",icon:o("OORJ"),background:"background-color-examin"},{name:"财务摊销",desc:"FINACIAL AMORTIZATION",icon:o("Dv+x"),background:"background-color-finacial"},{},{},{}],I=o("//Fk"),x=o.n(I),N=o("pFYg"),T=o.n(N),B=o("mtWM"),M=o.n(B),O=o("mw3O"),U=o.n(O),D=M.a.create();D.formdata=function(e,t,o){return D.post(e,t,c()({headers:{"Content-Type":"application/x-www-form-urlencoded"}},o))},D.authGet=function(e,t){return t&&t.params?t.params.workNo=S.userNo:t?t.params={workNo:S.userNo}:t={params:{workNo:S.userNo}},D.get(e,t)},D.interceptors.request.use(function(e){return e.timeout=6e4,"object"===T()(e.data)&&(e.data.workNo=S.userNo),"application/x-www-form-urlencoded"===e.headers["Content-Type"]&&(e.data=U.a.stringify(e.data)),e},function(e){return x.a.reject(e)}),D.interceptors.response.use(function(e){var t=e.data,o=t.status,i=t.msg;return o&&o>100?(window.$vm.$message({showClose:!0,message:i,type:"error"}),x.a.reject(e)):new x.a(function(t,o){setTimeout(function(){t(e.data)},500)})},function(e){return e.response&&504===e.response.status?window.$vm.$message({showClose:!0,message:"请求超时:504",type:"error"}):window.$vm.$message({showClose:!0,message:"服务器内部错误:"+(e.response&&e.response.status||""),type:"error"}),x.a.reject(e)}),D.defaults.headers.post["Content-Type"]="application/json";var j=D,J=function(){j.authGet("/user/simpleRole",{baseURL:"/sys"}).then(function(e){S.role=e.content})},Y={props:{height:{type:String,default:"40px"}}},Z={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"base-footer",style:{height:this.height,lineHeight:this.height}},[this._v("Copyright © 2018 软件与服务中心. All Rights Reserved.")])},staticRenderFns:[]};var G=o("VU/8")(Y,Z,!1,function(e){o("FaMT")},"data-v-7cc3dc3c",null).exports,L={data:function(){return{bodyHeight:"auto",entries:R}},mounted:function(){var e=this;this.bodyHeight=window.innerHeight+"px",window.addEventListener("resize",function(){e.bodyHeight=window.innerHeight+"px"}),J()},methods:{handleCardClick:function(e){this.$cookieStorage.userNo&&this.$cookieStorage.role?e.href&&window.open(e.href):this.$error("未能获取到用户角色，请稍后或刷新再试。")}},components:{EntryCard:{props:{backgroundClass:{type:String,default:"background-color-others"},icon:String,title:String,desc:String},render:function(){var e=arguments[0],t=this.desc?"#fff":"#0793f5",o=this.title||"敬请期待",i=c()({color:t,fontWeight:"bolder",fontSize:"14px"},this.title?{margin:"15px 0 6px 0"}:{marginTop:"55px"});return e("div",{class:"entry-card-item "+this.backgroundClass},[this.icon?e("img",{attrs:{src:this.icon},style:"width:68px;height:68px;"}):null,e("div",{style:i},[o]),e("div",{style:"color:#fff;font-weight:lighter;font-size:12px;"},[this.desc])])}},BaseFooter:G}},W={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("table",{staticClass:"entries-portal",staticStyle:{height:"100%"}},[o("tr",[o("td",[e._m(0),e._v(" "),o("el-row",{staticStyle:{margin:"20px auto",width:"1300px"},attrs:{gutter:20}},e._l(e.entries,function(t,i){return o("el-col",{key:i,staticStyle:{"margin-bottom":"10px"},attrs:{span:6}},[o("entry-card",{staticClass:"entries-portal-card",class:{available:t.name&&t.href},attrs:{title:t.name,desc:t.desc,"background-class":t.background,icon:t.icon},nativeOn:{click:function(o){e.handleCardClick(t)}}})],1)}))],1)]),e._v(" "),o("tfoot",[o("td",[o("base-footer",{staticClass:"entries-portal-footer",attrs:{height:"60px"}})],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"entries-portal-title"},[this._v("软件与服务中心\n        "),t("span",[this._v("项目信息管理系统")])])}]};var F=o("VU/8")(L,W,!1,function(e){o("G5+K")},"data-v-dfe4096a",null).exports,Q=o("Y81h"),V=o.n(Q),z=(o("UVIz"),function(e){e.beforeEach(function(e,t,o){V.a.start(),S.userNo?"/"===e.path?o("/entries"):o():"/"===e.path?o():o("/")}),e.afterEach(function(e,t){setTimeout(function(){V.a.done()},200)})});i.default.use(r.a);var _=new r.a({base:"/login",routes:[{path:"/",name:"Login",component:E},{path:"/entries",name:"Entries",component:F},{path:"*",redirect:"/"}]});z(_);var H=_,P=o("zL8q"),X=o.n(P);o("tvR6");i.default.mixin({methods:{$easyConfirm:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o="reporter-dialog"+(t?" reporter-dialog-notitle":"");return this.$confirm(e,t,{confirmButtonText:"确定",cancelButtonText:"取消",customClass:o,center:!0})},$success:function(e,t){this.$message.success(c()({message:e},{showClose:!0},t))},$error:function(e,t){this.$message.error(c()({message:e},{showClose:!0},t))}}}),i.default.prototype.$cookieStorage=S,i.default.use(X.a),j.defaults.baseURL="/statistics",i.default.prototype.$http=j,i.default.config.productionTip=!1,window.$vm=new i.default({el:"#app",router:H,template:"<App/>",components:{App:s}})},tvR6:function(e,t){},wmdb:function(e,t){}},["aFqK"]);